<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
body{
background-color: ghostwhite;
}


    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var newRow = `
              <tr>
                    <td><input type="date" class="date"></td>
                    <td><input type="number" min="501" class="checknum"> </td>
                    <td><input type="text" class="item"></td>
                    <td><input type="list"list="budgetItems" class="budget_type"></td>
                    <td><span class="dollar_sign">$</span><input type="number" class="cost"><button>save</button></td>
                </tr>
            `;
            var checkbookBody = document.querySelector("#tablebody");
            var ledger = [];

            checkbookBody.addEventListener("click", function (event) {
//use event.target here
                var tableRow = event.target.parentNode.parentNode;
                if (event.target.matches('button')) {
                    checkbookBody.insertAdjacentHTML('beforeend', newRow);

                    var date = tableRow.querySelector("input.date").value;


                    var checkNumber = tableRow.querySelector("input.checknum").value;

                    var item = tableRow.querySelector("input.item").value;

                    var budgetType = tableRow.querySelector("input.budget_type").value;

                    var cost = tableRow.querySelector("input.cost").value;

                    var ledgerLine = [];
                    ledgerLine.push(date);
                    ledgerLine.push(checkNumber);
                    ledgerLine.push(item);
                    ledgerLine.push(budgetType);
                    ledgerLine.push(cost);
                    console.log(ledgerLine);
                    console.log(ledger);
                    ledger.push(ledgerLine);
                    var subtotal = 0.0;

                    ledger.forEach(function (ledgerLine) {
                        subtotal += parseFloat(ledgerLine[4]);


                        var subtotalText = document.querySelector("input#subtotal")
                        subtotalText.value = subtotal.toFixed(2);

//
//
//
// adding up code goes here
                    });


                }
            });
        });


    </script>
</head>
<body>
<datalist id="budgetItems">
    <option value="Housing">
    <option value="Food">
    <option value="Clothing">
    <option value="Utilities">
    <option value="Transportation">
    <option value="Entertainment">
    <option value="Miscellaneous">
</datalist>
<h1>Checkook and Budget Calculator</h1>
<table border="1px">
    <thead >
    <tr>
        <th>Date</th>
        <th>Check#</th>
        <th>Item</th>
        <th>Budget Type</th>
        <th>cost</th>
    </tr>
    </thead>
    <tbody id="tablebody">
    <tr>
        <td><input type="date" class="date"></td>
        <td><input type="number" min="501" class="checknum"> </td>
        <td><input type="text" class="item"></td>
        <td><input type="list"list="budgetItems" class="budget_type"></td>
        <td><span>$</span><input type="number" class="cost"><button>save</button></td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
        <td colspan="4"></td>
        <td>Subtotal$<input type="number" id="subtotal"></td>



    </tr>
    </tfoot>
</table>



</body>
</html>
